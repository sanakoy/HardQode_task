# Тестовое задание от HardQode
## **Задание**
Файл с тестовым заданием перестал открываться, поэтому придется писать своими словами.
#### **1. Архитектура**
##### **Необходимо создать сущности**
- **Продукт:** название, автор, мин. учеников, макс. учеников, дата, цена, ученики.
- **Урок:** название, ссылка на видео, продукт.
- **Группа:** название, продукт, ученики.  
Также необходимо было связать пользователей с продкутами и группами.  
**(Набраны все 6 баллов)**
#### **2. Распределение по группам**
Ученики должны автоматически и равномерно распределяться по группам, с учетом минимального и максимального количества учеников.  
**(Набраны все 8 баллов)**
#### **3. API**
1. API для вывода всех продуктов с информацией о них, и кол-вом уроков в каждом продукте.
2. API для вывода всех уроков продуктов, которые доступны пользователю.  
**(Набраны все 3 балла)**
   
## **Инструкция по работе**
### **Запуск проекта**
- Сначала необходимо создать виртуальное окружение (в моем проекте версия Python 3.12).
- В requirements.txt есть все зависимости.  
  pip install -r requirements.txt
- Проект готов к запуску!
### **Интрукция по взаимодействию**
#### **1. Работа с БД**
- База данных уже есть в проекте, куда добавлены курсы, уроки, пользователи и группы.  
  **Логин админстратора: admin**   
  **Пароль: admin**
- Для демонстрации работы автоматического равномерного распределения по группам нужно создать пользователя, и указать продукт, при это не указывая группу, при сохранении пользователя он автоматически будет распределен в группу.
#### **2. Работа с API**
- Для получения всех продкутов с основной информацией и количеством уроков следует отправить GET-запрос по адресу:  
http://127.0.0.1:8000/api/v1/productlist  

Результат:  
```json
[
    {
        "name": "Курс по  Python",
        "price": 18000.0,
        "lessons_count": 2
    },
    {
        "name": "Курс по Django",
        "price": 15000.0,
        "lessons_count": 1
    }
]
```

- Для выведения списка уроков продкутов доступных конкретному пользователю необходимо отправить GET-запрос по адресу:
 http://127.0.0.1:8000/api/v1/lessonlist    
 Но помимо этого нужно передать json-строку с ключом "user" и значением логина пользователя (использовал для этого приложение Postman). 

 Пример пример передаваемого значения:  
``` json
{
    "user": "user10"  
}
```  
Результат:
```json 
{
    "product_info": [
        [
            {
                "name": "Урок 1. Первое знакомство",
                "video": "https://www.youtube.com/watch?v=btuxcr7Sxw4&list=PLA0M1Bcd0w8yWHh2V70bTtbVxJICrnJHd",
                "product__name": "Курс по  Python"
            },
            {
                "name": "Урок 2. Варианты исполнения команд",
                "video": "https://www.youtube.com/watch?v=fb5f0jX9tng&list=PLA0M1Bcd0w8yWHh2V70bTtbVxJICrnJHd&index=2", 
                "product__name": "Курс по  Python" 
            }
        ],
        [
            {
                "name": "Урок 1. Установка Django",
                "video": "https://www.youtube.com/watch?v=FyTL1bnUx5I&list=PLA0M1Bcd0w8xO_39zZll2u1lz_Q-Mwn1F",
                "product__name": "Курс по Django"
            }
        ]
    ]
}
```


## Итоги
- В проекте полностью была создана архитектура.
- Автоматизирована система равномерного распределения пользователей по группам с учетом минимального и максимального количества пользователей в одной группе.
- Созданы API для вывода всех продуктов, и для вывода всех уроков пользователя.
Исходя из всего выше перечисленного можно сказать, что все пункты тестовго задания были выполнены!
